{"is_source_file": true, "format": "JavaScript", "description": "This source file defines a catalog service for a manga and anime tracker application. It includes functions for mapping media data, stripping HTML from descriptions, and fetching media data from a GraphQL API, as well as providing an API object with methods for trending media, searching, fetching details, recommendations, and batch minimal info.", "external_files": ["./mock_catalog.json", "./graphql"], "external_methods": ["graphQLFetch"], "published": ["CatalogAPI"], "classes": [], "methods": [{"name": "mapMediaListItem(m)", "description": "Normalizes AniList media data into the application's UI shape, extracting ID, title, type, year, cover, genres, and synopsis.", "scope": "", "scopeKind": ""}, {"name": "mapMediaDetail(m)", "description": "Extends the list item mapping with additional detailed fields such as banner image, end date, volumes, studios, and external links.", "scope": "", "scopeKind": ""}, {"name": "stripHTML(s)", "description": "Removes HTML tags from a string to produce plain text, used for cleaning descriptions.", "scope": "", "scopeKind": ""}, {"name": "getById(id)", "scope": "CatalogAPI", "scopeKind": "class", "description": "unavailable"}, {"name": "getMediaDetails(id)", "scope": "CatalogAPI", "scopeKind": "class", "description": "unavailable"}, {"name": "getMinimalByIds(ids = [])", "scope": "CatalogAPI", "scopeKind": "class", "description": "unavailable"}, {"name": "getRecommendations(id, { page = 1, perPage = 10 } = {})", "scope": "CatalogAPI", "scopeKind": "class", "description": "unavailable"}, {"name": "getTrendingMedia({ type = 'ANIME', page = 1, perPage = DEFAULT_PER_PAGE } = {})", "scope": "CatalogAPI", "scopeKind": "class", "description": "unavailable"}, {"name": "list()", "scope": "CatalogAPI", "scopeKind": "class", "description": "unavailable"}, {"name": "searchMedia({ query, type = 'ANIME', page = 1, perPage = DEFAULT_PER_PAGE } = {})", "scope": "CatalogAPI", "scopeKind": "class", "description": "unavailable"}], "calls": ["graphQLFetch", "mapMediaListItem", "mapMediaDetail", "stripHTML", "console.warn", "mock.filter", "mock.find"], "search-terms": ["catalog service", "AniList", "GraphQL media fetch", "media mapping", "media details", "media search", "media trending", "media recommendations", "batch media info", "manga anime tracker"], "state": 2, "file_id": 22, "knowledge_revision": 170, "git_revision": "7eb7e5e6fa79b2f07b577af4b60f29d5eba06be2", "revision_history": [{"47": ""}, {"77": "fc7765b72c2626febba7a708fd6500363cff79b7"}, {"157": "450731cbf9f707e069adc04cb9a45562bbe9bd3e"}, {"170": "7eb7e5e6fa79b2f07b577af4b60f29d5eba06be2"}], "ctags": [{"_type": "tag", "name": "CatalogAPI", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^export const CatalogAPI = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "DEFAULT_PER_PAGE", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^const DEFAULT_PER_PAGE = 30;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DETAILS_FIELDS", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^const DETAILS_FIELDS = `$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "LIST_FIELDS", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^const LIST_FIELDS = `$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "QUERY_BATCH_MIN", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^const QUERY_BATCH_MIN = `$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "QUERY_DETAILS", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^const QUERY_DETAILS = `$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "QUERY_RECOMMENDATIONS", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^const QUERY_RECOMMENDATIONS = `$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "QUERY_SEARCH", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^const QUERY_SEARCH = `$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "QUERY_TRENDING", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^const QUERY_TRENDING = `$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getById", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^  async getById(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "CatalogAPI", "scopeKind": "class"}, {"_type": "tag", "name": "getMediaDetails", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^  async getMediaDetails(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "CatalogAPI", "scopeKind": "class"}, {"_type": "tag", "name": "getMinimalByIds", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^  async getMinimalByIds(ids = []) {$/", "language": "JavaScript", "kind": "method", "signature": "(ids = [])", "scope": "CatalogAPI", "scopeKind": "class"}, {"_type": "tag", "name": "getRecommendations", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^  async getRecommendations(id, { page = 1, perPage = 10 } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(id, { page = 1, perPage = 10 } = {})", "scope": "CatalogAPI", "scopeKind": "class"}, {"_type": "tag", "name": "getTrendingMedia", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^  async getTrendingMedia({ type = 'ANIME', page = 1, perPage = DEFAULT_PER_PAGE } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ type = 'ANIME', page = 1, perPage = DEFAULT_PER_PAGE } = {})", "scope": "CatalogAPI", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^  async list() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "CatalogAPI", "scopeKind": "class"}, {"_type": "tag", "name": "mapMediaDetail", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^function mapMediaDetail(m) {$/", "language": "JavaScript", "kind": "function", "signature": "(m)"}, {"_type": "tag", "name": "mapMediaListItem", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^function mapMediaListItem(m) {$/", "language": "JavaScript", "kind": "function", "signature": "(m)"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^      const vars = { query: q, type, page, perPage };$/", "language": "JavaScript", "kind": "property", "scope": "CatalogAPI.searchMedia.vars", "scopeKind": "class"}, {"_type": "tag", "name": "searchMedia", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^  async searchMedia({ query, type = 'ANIME', page = 1, perPage = DEFAULT_PER_PAGE } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ query, type = 'ANIME', page = 1, perPage = DEFAULT_PER_PAGE } = {})", "scope": "CatalogAPI", "scopeKind": "class"}, {"_type": "tag", "name": "stripHTML", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^function stripHTML(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^      const vars = { query: q, type, page, perPage };$/", "language": "JavaScript", "kind": "field", "scope": "CatalogAPI.searchMedia.vars", "scopeKind": "class"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^      const vars = { type, page, perPage };$/", "language": "JavaScript", "kind": "field", "scope": "CatalogAPI.getTrendingMedia.vars", "scopeKind": "class"}, {"_type": "tag", "name": "vars", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/services/catalog.js", "pattern": "/^      const vars = { query: q, type, page, perPage };$/", "language": "JavaScript", "kind": "class", "scope": "CatalogAPI.searchMedia", "scopeKind": "class"}], "hash": "f79e0f272ad9aac689285c4513b53347", "format-version": 4, "code-base-name": "koma_corner_frontend", "filename": "koma_corner_frontend/src/services/catalog.js", "fields": [{"name": "const vars = { query: q, type, page, perPage };", "scope": "CatalogAPI.searchMedia.vars", "scopeKind": "class", "description": "unavailable"}, {"name": "const vars = { type, page, perPage };", "scope": "CatalogAPI.getTrendingMedia.vars", "scopeKind": "class", "description": "unavailable"}]}