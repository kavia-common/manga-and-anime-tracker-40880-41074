{"is_source_file": true, "format": "JavaScript", "description": "A utility module providing helper functions for safe client-side redirection and navigation within a Single Page Application (SPA). It includes functions to validate redirect URLs, normalize URLs to paths, and perform safe navigation actions, ensuring that redirections stay within allowed origins and paths, preventing security risks like open redirects.", "external_files": ["process.env", "window.location"], "external_methods": ["URL", "URLSearchParams"], "published": ["getFrontendOrigin", "isSafeRedirect", "normalizeToPath", "getSafeRedirectFromParams", "safeNavigate", "buildSupabaseRedirectTo"], "classes": [], "methods": [{"name": "getFrontendOrigin()", "description": "Returns the configured frontend origin from environment variable or window.location.origin as a fallback.", "scope": "", "scopeKind": ""}, {"name": "isSafeRedirect(target, options = {})", "description": "Checks if a given target URL or path is safe for redirection within the SPA, enforcing same-origin policy and allowed prefixes.", "scope": "", "scopeKind": ""}, {"name": "normalizeToPath(target, fallback = '/')", "description": "Converts any URL or relative string into a clean path suitable for SPA navigation, with a fallback default.", "scope": "", "scopeKind": ""}, {"name": "getSafeRedirectFromParams(search, paramName = 'redirect', fallback = '/')", "description": "Extracts and validates a redirect target from URL query parameters, returning a normalized path or a fallback.", "scope": "", "scopeKind": ""}, {"name": "safeNavigate(navigateFn, target, options = {})", "description": "Performs a safe navigation using a provided navigation function, validating and normalizing the target before navigating.", "scope": "", "scopeKind": ""}, {"name": "buildSupabaseRedirectTo(nextPath)", "description": "Constructs a safe absolute URL for Supabase email redirection, ensuring only valid paths are used.", "scope": "", "scopeKind": ""}], "calls": ["URL()", "URLSearchParams()", "getFrontendOrigin()", "isSafeRedirect()", "normalizeToPath()", "navigateFn()"], "search-terms": ["redirect validation", "safe navigation", "URL normalization", "SPA routing", "secure redirects"], "state": 2, "file_id": 31, "knowledge_revision": 90, "git_revision": "", "ctags": [{"_type": "tag", "name": "buildSupabaseRedirectTo", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/utils/redirects.js", "pattern": "/^export function buildSupabaseRedirectTo(nextPath) {$/", "language": "JavaScript", "kind": "function", "signature": "(nextPath)"}, {"_type": "tag", "name": "getFrontendOrigin", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/utils/redirects.js", "pattern": "/^export function getFrontendOrigin() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getSafeRedirectFromParams", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/utils/redirects.js", "pattern": "/^export function getSafeRedirectFromParams(search, paramName = 'redirect', fallback = '\\/') {$/", "language": "JavaScript", "kind": "function", "signature": "(search, paramName = 'redirect', fallback = '/')"}, {"_type": "tag", "name": "isSafeRedirect", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/utils/redirects.js", "pattern": "/^export function isSafeRedirect(target, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(target, options = {})"}, {"_type": "tag", "name": "normalizeToPath", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/utils/redirects.js", "pattern": "/^export function normalizeToPath(target, fallback = '\\/') {$/", "language": "JavaScript", "kind": "function", "signature": "(target, fallback = '/')"}, {"_type": "tag", "name": "safeNavigate", "path": "/home/kavia/workspace/code-generation/manga-and-anime-tracker-40880-41074/koma_corner_frontend/src/utils/redirects.js", "pattern": "/^export function safeNavigate(navigateFn, target, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(navigateFn, target, options = {})"}], "hash": "f3f63c1ffbd99d7be4e00ad77a9578aa", "format-version": 4, "code-base-name": "koma_corner_frontend", "filename": "koma_corner_frontend/src/utils/redirects.js", "revision_history": [{"90": ""}]}