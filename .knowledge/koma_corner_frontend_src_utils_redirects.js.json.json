{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions for safe URL redirection and navigation within a web application, including origin retrieval, redirect validation, normalization, and safe navigation wrappers.", "external_files": ["process.env", "window.location", "URL", "URLSearchParams"], "external_methods": ["process.env.REACT_APP_FRONTEND_URL", "window.location.origin", "URL", "URLSearchParams"], "published": ["getFrontendOrigin", "isSafeRedirect", "normalizeToPath", "getSafeRedirectFromParams", "safeNavigate", "buildSupabaseRedirectTo"], "classes": [], "methods": [{"name": "getFrontendOrigin", "description": "Returns the configured frontend origin from environment variable or window location, with fallbacks."}, {"name": "isSafeRedirect", "description": "Validates if a target URL or path is safe for redirection, allowing only same-origin, whitelisted prefixes, and disallowing dangerous schemes."}, {"name": "normalizeToPath", "description": "Converts a URL or relative string into a clean path, search, and hash string suitable for SPA navigation."}, {"name": "getSafeRedirectFromParams", "description": "Extracts and validates a redirect URL from query parameters, returning a normalized path or fallback."}, {"name": "safeNavigate", "description": "Wraps navigation function to perform safe redirection after validation and normalization, with fallback handling."}, {"name": "buildSupabaseRedirectTo", "description": "Constructs a safe absolute URL for Supabase email redirection during sign-up, based on a provided path."}], "calls": ["new URL()", "getFrontendOrigin()", "isSafeRedirect()", "normalizeToPath()", "navigateFn()"], "search-terms": ["safe redirect", "navigation utility", "origin validation", "URL normalization", "react-router redirect"], "state": 2, "file_id": 31, "knowledge_revision": 263, "git_revision": "6551e2518b40723aa7e48f369ca350bc9ea96583", "revision_history": [{"90": ""}, {"263": "6551e2518b40723aa7e48f369ca350bc9ea96583"}], "ctags": [], "filename": "koma_corner_frontend/src/utils/redirects.js", "format-version": 4, "code-base-name": "https://github.com/kavia-common/manga-and-anime-tracker-40880-41074.git:kavia-main"}